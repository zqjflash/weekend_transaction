## Serverless给前端带来了什么

### 1. 引言

Serverless是一种“无服务器架构”，让用户无需关心程序运行环境、资源及数量，只要将精力Focus到业务逻辑上的技术。

现在各个公司已经从DevOps化往Serverless迈进，而为什么前端要关注Serverless？

对业务前端同学：

1. 会改变前后端接口定义规范；
2. 一定会改变前后端联调方式，让前端参与服务器逻辑开发，甚至Node Java混部；
3. 大大降低Nodejs服务器维护门槛，只要会写JS代码就可以维护Node服务，而无需学习DevOps相关知识。

对一个自由开发者：

1. 未来服务器部署更弹性，更省钱；
2. 部署速度更快，更不易出错。

__前端框架总是带入后端思维，而Serverless则是把前端思维带入了后端运维。__

前端开发者其实是最早享受到"Serverless"好处的群体。他们不需要拥有自己的服务，甚至不需要自己的浏览器，就可以让自己的JS代码均匀、负载均衡的运行在每一个用户的电脑中。

而每个用户的浏览器，就像现在成熟的Serverless集群，从远程加载JS代码开始冷启动，甚至在冷启动上也是卓越领先的：利用JIT加速让代码实现毫秒级别的冷启动。不仅如此，浏览器还是实现了BAAS服务的完美环境，我们可以调用任何函数获取用户的Cookie、环境信息、本地数据库服务，而无需关心用户用的是什么电脑，连接了怎样的网络，甚至硬盘的大小。

这就是Serverless理念。通过FAAS(函数即服务)与BAAS(后台即服务)企图在服务端制造前端开发者习以为常的开发环境，所以前端开发者应该更能理解Serverless带来的好处。

### 2. 精读

FAAS(函数即服务) + BAAS(后台即服务)可以称为一个完整的Serverless的实现，除此之外，还有PASS（平台即服务）的概念。而通常平台环境都通过容器技术实现，最终都为了达到NoOps（无人运维），或者至少DevOps(开发&运维)。

简单介绍一下这几个名词，防止大家被绕晕：

* FAAS-Function as a service
函数即服务，每一个函数都是一个服务，函数可以由任何语言编写，除此之外不需要关心任何运维细节，比如：计算资源、弹性扩容，而且可以按量计费，且支持事件驱动。业界大云厂商都支持FAAS，各自都有一套工作台、或者可视化工作流来管理这些函数。

* BAAS-Backend as s service
后端及服务，就是集成了许多中间件技术，可以无视环境调用服务，比如数据即服务（数据库服务），缓存服务等。虽然下面还有很多XAAS，但组成Serverless概念的只有FAAS+BAAS。

* PAAS-Platform as s service
平台即服务，用户只要上传源代码就可以自动持续集成并享受高可用服务，如果速度足够快，可以认为是类似Serverless。但随着以Docker为代表的容器技术兴起，以容器为粒度的PAAS部署逐渐成为主流，是最常用的应用部署方式。比如中间件、数据库、操作系统等。

* DAAS-Data as s service
数据即服务，将数据采集、治理、聚合、服务打包起来提供出去。DAAS服务可以应用Serverless的架构。

* IAAS-Infrastructure as a Service
基础设施即服务，比如计算机存储、网络、服务器等基建设施以服务的方式提供。

* SAAS-Software as a Service
软件即服务，比如ERP、CRM、邮箱服务等，以软件为粒度提供服务。

* 容器
容器就是隔离了物理环境的虚拟程序执行环境，而且环境可被描述、迁移。比较热门的容器技术是Docker。

随着容器数量增多，就出现了管理容器集群的技术，比较有名的容器编排平台是Kubernetes。容器技术是Serverless架构实现的一种选择，也是实现的基础。

* NoOps
就是无人运维，比较理想主义，也许要借助AI的能力才能实现完全无人运维。

无人运维不代表Serverless，Serverless可能也需要人运维（至少现在），只是开发者不再需要关心环境。

* DevOps

笔者觉得可以理解为“开发即运维”，毕竟出了事情，开发要被问责，而一个成熟的DevOps体系可以让更多的开发者承担OP的职责，或者与OP更密切的合作。

回到Serverless，未来后端开发的体验可能与前端相似：不需要关心代码运行在哪台服务器（浏览器），无需关心服务器环境（浏览器版本）、不用担心负载均衡（前端从未担心过）、中间件服务随时调用（LocalStorage、Service Worker）。

前端对Serverless应该体验最为强烈。




